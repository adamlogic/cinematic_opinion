(function(){Chart.addYearFilter=function(e,t){var n,r,i;return i=d3.nest().key(function(e){return e.year}).entries(e).map(function(e){return e.key}).sort(),r=d3.select(".year-filter").selectAll(".year-toggle").data(i).enter().append("label").classed("year-toggle",!0).text(String),n=d3.set(i),r.append("input").attr("type","checkbox").attr("checked","checked").attr("value",String).on("change",function(){return this.checked?n.add(this.value):n.remove(this.value),t(e.filter(function(e){return n.has(e.year)}))})}}).call(this);